{
	"info": {
		"_postman_id": "users-module-part2-collection",
		"name": "Users Module - Part 2",
		"description": "Tests pour les routes de mise √† jour, suppression et gestion des mots de passe",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "‚úèÔ∏è MISE √Ä JOUR UTILISATEURS",
			"item": [
				{
					"name": "‚úÖ Mise √† jour compl√®te - Succ√®s",
					"request": {
						"method": "PUT",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"username\": \"{{updatedUsername}}\", \"email\": \"{{updatedEmail}}\", \"password\": \"UpdatedPassword123!\", \"role\": \"admin\", \"status\": \"active\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}"]}
					},
					"event": [
						{"listen": "prerequest", "script": {"exec": ["const timestamp=Date.now();pm.globals.set('updatedUsername',`updateduser${timestamp}`);pm.globals.set('updatedEmail',`updated${timestamp}@example.com`);"]}},
						{"listen": "test", "script": {"exec": ["pm.test(\"‚úÖ Mise √† jour r√©ussie\", function(){if(pm.response.code===200){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.true;pm.expect(jsonData.data).to.have.property('id');pm.expect(jsonData.data).to.not.have.property('password_hash');console.log('‚úÖ Utilisateur mis √† jour:',jsonData.data.id);}});"]}}
					]
				},
				{
					"name": "‚úÖ Mise √† jour partielle - Succ√®s",
					"request": {
						"method": "PUT",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"email\": \"{{updatedEmail2}}\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}"]}
					},
					"event": [
						{"listen": "prerequest", "script": {"exec": ["const timestamp=Date.now();pm.globals.set('updatedEmail2',`updated${timestamp}@example.com`);"]}},
						{"listen": "test", "script": {"exec": ["pm.test(\"‚úÖ Mise √† jour partielle r√©ussie\", function(){if(pm.response.code===200){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.true;pm.expect(jsonData.data.email).to.equal(pm.globals.get('updatedEmail2'));console.log('‚úÖ Mise √† jour partielle r√©ussie');}});"]}}
					]
				},
				{
					"name": "‚ùå Mise √† jour - ID invalide",
					"request": {
						"method": "PUT",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"username\": \"testuser\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/0", "host": ["{{baseUrl}}"], "path": ["api", "users", "0"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Erreur ID invalide\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;console.log('‚ùå ID invalide d√©tect√©');}});"]}}]
				},
				{
					"name": "‚ùå Mise √† jour - Utilisateur non trouv√©",
					"request": {
						"method": "PUT",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"username\": \"testuser\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/99999", "host": ["{{baseUrl}}"], "path": ["api", "users", "99999"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Utilisateur non trouv√©\", function(){if(pm.response.code===404){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;pm.expect(jsonData.code).to.equal('NOT_FOUND');console.log('‚ùå Utilisateur non trouv√©');}});"]}}]
				},
				{
					"name": "‚ùå Mise √† jour - Email d√©j√† utilis√©",
					"request": {
						"method": "PUT",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"email\": \"{{validTestEmail}}\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"üö´ Conflit d'email mise √† jour\", function(){if(pm.response.code===409){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;pm.expect(jsonData.field).to.equal('email');console.log('üö´ Email d√©j√† utilis√©');}});"]}}]
				},
				{
					"name": "‚ùå Mise √† jour - Username d√©j√† utilis√©",
					"request": {
						"method": "PUT",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"username\": \"{{validTestUsername}}\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"üö´ Conflit de username mise √† jour\", function(){if(pm.response.code===409){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;pm.expect(jsonData.field).to.equal('username');console.log('üö´ Username d√©j√† utilis√©');}});"]}}]
				}
			]
		},
		{
			"name": "üîê GESTION MOTS DE PASSE",
			"item": [
				{
					"name": "‚úÖ Changement mot de passe - Succ√®s",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"currentPassword\": \"Password123!\", \"newPassword\": \"NewPassword123!\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/password", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "password"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚úÖ Mot de passe mis √† jour\", function(){if(pm.response.code===200){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.true;pm.expect(jsonData.data).to.not.have.property('password_hash');console.log('‚úÖ Mot de passe mis √† jour');}});"]}}]
				},
				{
					"name": "‚ùå Changement mot de passe - Ancien mot de passe incorrect",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"currentPassword\": \"wrongpassword\", \"newPassword\": \"NewPassword123!\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/password", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "password"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Ancien mot de passe incorrect\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;console.log('‚ùå Ancien mot de passe incorrect');}});"]}}]
				},
				{
					"name": "‚ùå Changement mot de passe - M√™me mot de passe",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"currentPassword\": \"Password123!\", \"newPassword\": \"Password123!\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/password", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "password"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå M√™me mot de passe\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;console.log('‚ùå Le nouveau mot de passe doit √™tre diff√©rent');}});"]}}]
				},
				{
					"name": "‚ùå Changement mot de passe - Nouveau mot de passe faible",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"currentPassword\": \"Password123!\", \"newPassword\": \"123\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/password", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "password"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Nouveau mot de passe faible\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;if(jsonData.errors){const passwordError=jsonData.errors.find(e=>e.param==='newPassword');pm.expect(passwordError).to.exist;console.log('‚ùå Nouveau mot de passe faible');}}}});"]}}]
				},
				{
					"name": "‚ùå Changement mot de passe - Ancien mot de passe manquant",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"newPassword\": \"NewPassword123!\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/password", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "password"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Ancien mot de passe manquant\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;if(jsonData.errors){const currentPasswordError=jsonData.errors.find(e=>e.param==='currentPassword');pm.expect(currentPasswordError).to.exist;console.log('‚ùå Ancien mot de passe manquant');}}}});"]}}]
				},
				{
					"name": "‚ùå Changement mot de passe - Nouveau mot de passe manquant",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"currentPassword\": \"Password123!\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/password", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "password"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Nouveau mot de passe manquant\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;if(jsonData.errors){const newPasswordError=jsonData.errors.find(e=>e.param==='newPassword');pm.expect(newPasswordError).to.exist;console.log('‚ùå Nouveau mot de passe manquant');}}}});"]}}]
				},
				{
					"name": "üîÑ R√©initialisation mot de passe - Succ√®s",
					"request": {
						"method": "POST",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"email\": \"{{validTestEmail}}\", \"newPassword\": \"ResetPassword123!\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/reset-password", "host": ["{{baseUrl}}"], "path": ["api", "users", "reset-password"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"üîÑ Mot de passe r√©initialis√©\", function(){if(pm.response.code===200){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.true;pm.expect(jsonData.data).to.not.have.property('password_hash');console.log('üîÑ Mot de passe r√©initialis√©');}});"]}}]
				},
				{
					"name": "‚ùå R√©initialisation mot de passe - Email invalide",
					"request": {
						"method": "POST",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"email\": \"email-invalide\", \"newPassword\": \"ResetPassword123!\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/reset-password", "host": ["{{baseUrl}}"], "path": ["api", "users", "reset-password"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Email invalide pour r√©initialisation\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;console.log('‚ùå Email invalide');}});"]}}]
				},
				{
					"name": "‚ùå R√©initialisation mot de passe - Email non trouv√©",
					"request": {
						"method": "POST",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"email\": \"nonexistent@example.com\", \"newPassword\": \"ResetPassword123!\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/reset-password", "host": ["{{baseUrl}}"], "path": ["api", "users", "reset-password"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Email non trouv√© pour r√©initialisation\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;console.log('‚ùå Email non trouv√©');}});"]}}]
				}
			]
		},
		{
			"name": "üîÑ GESTION DES STATUTS",
			"item": [
				{
					"name": "‚úÖ Activation utilisateur",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"status\": \"active\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/status", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "status"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚úÖ Utilisateur activ√©\", function(){if(pm.response.code===200){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.true;pm.expect(jsonData.data.status).to.equal('active');console.log('‚úÖ Utilisateur activ√©');}});"]}}]
				},
				{
					"name": "‚úÖ D√©sactivation utilisateur",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"status\": \"inactive\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/status", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "status"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚úÖ Utilisateur d√©sactiv√©\", function(){if(pm.response.code===200){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.true;pm.expect(jsonData.data.status).to.equal('inactive');console.log('‚úÖ Utilisateur d√©sactiv√©');}});"]}}]
				},
				{
					"name": "‚úÖ Verrouillage utilisateur",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"status\": \"locked\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/status", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "status"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚úÖ Utilisateur verrouill√©\", function(){if(pm.response.code===200){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.true;pm.expect(jsonData.data.status).to.equal('locked');console.log('‚úÖ Utilisateur verrouill√©');}});"]}}]
				},
				{
					"name": "‚ùå Changement statut - Statut invalide",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"status\": \"invalid-status\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}/status", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}", "status"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Statut invalide\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;if(jsonData.errors){const statusError=jsonData.errors.find(e=>e.param==='status');pm.expect(statusError).to.exist;console.log('‚ùå Statut invalide');}}}});"]}}]
				},
				{
					"name": "‚ùå Changement statut - Utilisateur non trouv√©",
					"request": {
						"method": "PATCH",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"status\": \"active\"}"},
						"url": {"raw": "{{baseUrl}}/api/users/99999/status", "host": ["{{baseUrl}}"], "path": ["api", "users", "99999", "status"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Utilisateur non trouv√© pour statut\", function(){if(pm.response.code===404){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;pm.expect(jsonData.code).to.equal('NOT_FOUND');console.log('‚ùå Utilisateur non trouv√©');}});"]}}]
				}
			]
		},
		{
			"name": "üóëÔ∏è SUPPRESSION UTILISATEURS",
			"item": [
				{
					"name": "‚úÖ Suppression utilisateur - Succ√®s",
					"request": {
						"method": "DELETE",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}],
						"url": {"raw": "{{baseUrl}}/api/users/{{createdUserId}}", "host": ["{{baseUrl}}"], "path": ["api", "users", "{{createdUserId}}"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚úÖ Utilisateur supprim√©\", function(){if(pm.response.code===200){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.true;console.log('‚úÖ Utilisateur supprim√©');}});"]}}]
				},
				{
					"name": "‚ùå Suppression - Utilisateur non trouv√©",
					"request": {
						"method": "DELETE",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}],
						"url": {"raw": "{{baseUrl}}/api/users/99999", "host": ["{{baseUrl}}"], "path": ["api", "users", "99999"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Utilisateur non trouv√© pour suppression\", function(){if(pm.response.code===404){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;pm.expect(jsonData.code).to.equal('NOT_FOUND');console.log('‚ùå Utilisateur non trouv√©');}});"]}}]
				},
				{
					"name": "‚ùå Suppression - ID invalide",
					"request": {
						"method": "DELETE",
						"header": [{"key": "Authorization", "value": "Bearer {{authToken}}"}],
						"url": {"raw": "{{baseUrl}}/api/users/0", "host": ["{{baseUrl}}"], "path": ["api", "users", "0"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå ID invalide pour suppression\", function(){if(pm.response.code===400){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;console.log('‚ùå ID invalide');}});"]}}]
				}
			]
		},
		{
			"name": "üö´ ERREURS D'AUTHENTIFICATION",
			"item": [
				{
					"name": "‚ùå Pas de token",
					"request": {
						"method": "GET",
						"header": [],
						"url": {"raw": "{{baseUrl}}/api/users", "host": ["{{baseUrl}}"], "path": ["api", "users"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Pas de token\", function(){if(pm.response.code===401){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;pm.expect(jsonData.code).to.equal('UNAUTHORIZED');console.log('‚ùå Token manquant');}});"]}}]
				},
				{
					"name": "‚ùå Token invalide",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer invalid-token"}],
						"url": {"raw": "{{baseUrl}}/api/users", "host": ["{{baseUrl}}"], "path": ["api", "users"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Token invalide\", function(){if(pm.response.code===401){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;pm.expect(jsonData.code).to.equal('UNAUTHORIZED');console.log('‚ùå Token invalide');}});"]}}]
				},
				{
					"name": "‚ùå Token expir√©",
					"request": {
						"method": "GET",
						"header": [{"key": "Authorization", "value": "Bearer expired-token"}],
						"url": {"raw": "{{baseUrl}}/api/users", "host": ["{{baseUrl}}"], "path": ["api", "users"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Token expir√©\", function(){if(pm.response.code===401){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;pm.expect(jsonData.code).to.equal('UNAUTHORIZED');console.log('‚ùå Token expir√©');}});"]}}]
				},
				{
					"name": "‚ùå Permissions insuffisantes",
					"request": {
						"method": "POST",
						"header": [{"key": "Authorization", "value": "Bearer {{userToken}}"}, {"key": "Content-Type", "value": "application/json"}],
						"body": {"mode": "raw", "raw": "{\"username\": \"testuser\", \"email\": \"test@example.com\", \"password\": \"Password123!\"}"},
						"url": {"raw": "{{baseUrl}}/api/users", "host": ["{{baseUrl}}"], "path": ["api", "users"]}
					},
					"event": [{"listen": "test", "script": {"exec": ["pm.test(\"‚ùå Permissions insuffisantes\", function(){if(pm.response.code===403){const jsonData=pm.response.json();pm.expect(jsonData.success).to.be.false;pm.expect(jsonData.code).to.equal('FORBIDDEN');console.log('‚ùå Permissions insuffisantes');}});"]}}]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"exec": [
					"console.log('=== Test Users Module Part 2 ===');",
					"console.log('URL:', pm.request.url);",
					"console.log('M√©thode:', pm.request.method);",
					"if (!pm.globals.get('testCounter')) { pm.globals.set('testCounter', 1); } else { pm.globals.set('testCounter', pm.globals.get('testCounter') + 1); }",
					"pm.globals.setIfUndefined('authToken', 'test-token');",
					"pm.globals.setIfUndefined('userToken', 'user-token');",
					"pm.globals.setIfUndefined('validTestEmail', 'test@example.com');",
					"pm.globals.setIfUndefined('validTestUsername', 'testuser');",
					"pm.globals.setIfUndefined('baseUrl', 'http://localhost:3000');"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"exec": [
					"pm.test(\"üìä Response time acceptable\", function () { pm.expect(pm.response.responseTime).to.be.below(2000); });",
					"pm.test(\"üìù Response has correct structure\", function () { const jsonData = pm.response.json(); pm.expect(jsonData).to.have.property('success'); pm.expect(jsonData).to.have.property('message'); pm.expect(jsonData).to.have.property('timestamp'); });",
					"pm.test(\"üîç Log response details\", function () { const jsonData = pm.response.json(); console.log('Response:', JSON.stringify(jsonData, null, 2)); });"
				]
			}
		}
	]
}
